type: operator
category: geospatial
name: $near
description: Returns documents whose location field is near a specified point, sorted by distance, requiring a 2dsphere index and returning documents from nearest to farthest.
syntax: '{ <location field>: { $near: { $geometry: { type: "Point", coordinates: [<longitude>, <latitude>] }, $maxDistance: <distance>, $minDistance: <distance> } } }'
parameters:
  - name: location field
    type: string
    required: true
    description: The field containing the GeoJSON Point
  - name: geometry
    type: object
    required: true
    description: GeoJSON Point object specifying the center point
  - name: maxDistance
    type: number
    required: false
    description: Optional maximum distance in meters from the center point
  - name: minDistance
    type: number
    required: false
    description: Optional minimum distance in meters from the center point
examples:
  items:
    - title: Basic proximity search
      description: Find the closest stores to a specific geographic point
      query: 'db.stores.find({ location: { $near: { $geometry: { type: "Point", coordinates: [69.7296, 70.1272] } } } })'
      output:
        value: Stores ordered by distance from the specified point, nearest first
    - title: Proximity search with distance range
      description: Find stores within a specific distance range using aggregation
      query: 'db.stores.aggregate([{ $geoNear: { near: { type: "Point", coordinates: [70.3328, 69.2158] }, distanceField: "distance", minDistance: 20, maxDistance: 200 } }])'
      output:
        value: Stores between 20 and 200 meters from the point with distance information
    - title: Near query with field projection
      description: Find nearest stores and return only specific fields
      query: 'db.stores.find({ location: { $near: { $geometry: { type: "Point", coordinates: [69.7296, 70.1272] } } } }, { name: 1, location: 1 })'
      output:
        value: Name and location of stores ordered by proximity to the point
related:
  - reference: /reference/operator/nearsphere
  - reference: /reference/operator/maxdistance