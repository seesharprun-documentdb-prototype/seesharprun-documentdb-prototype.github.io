type: operator
category: bitwise-update
name: $bit
description: |-
  The `$bit` operator performs bitwise updates on integer fields. It supports bitwise AND, OR, and XOR operations.
syntax: |-
  {
    $bit: {
      <field>: { <and | or | xor>: <integer> }
    }
  }
parameters:
  - name: field
    type: string
    required: true
    description: |-
      The field to update with bitwise operations.
  - name: and | or | xor
    type: string
    required: true
    description: |-
      The bitwise operation to perform (and, or, or xor).
  - name: <integer>
    type: number
    required: true
    description: |-
      The integer value to use in the bitwise operation.
examples:
  sample: |-
    {
      "_id": "store1",
      "name": "Store Name",
      "storeFeatures": 5
    }
  items:
    - title: Perform bitwise AND operation
      description: |-
        Updates the storeFeatures field using a bitwise AND operation.
      query: |-
        db.stores.update(
          { _id: "store1" },
          { $bit: { storeFeatures: { and: 3 } } }
        )
      output:
        value: |-
          {
            "acknowledged": true,
            "matchedCount": 1,
            "modifiedCount": 1
          }
related:
  - reference: /operator/bitwise/bitand
  - reference: /operator/bitwise/bitor
