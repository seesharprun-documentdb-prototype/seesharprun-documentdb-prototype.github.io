type: operator
category: arithmetic-expression
name: $subtract
description: |-
  The `$subtract` operator is used to subtract two numbers and return the result.
syntax: |-
  { $subtract: [ <expression 1>, <expression 2> ] }
parameters:
  - name: <expression 1>
    type: string
    required: true
    description: |-
      The minuend (the number from which another number is to be subtracted).
  - name: <expression 2>
    type: string
    required: true
    description: |-
      The subtrahend (the number to be subtracted).
examples:
  sample: |-
    {
      "_id": "0fcc0bf0-ed18-4ab8-b558-9848e18058f4",
      "staff": {
        "employeeCount": { "fullTime": 20, "partTime": 18 }
      }
    }
  items:
    - title: Calculating the difference between full time and part time staff
      description: |-
        Calculate the absolute difference in part time and full time staff using $subtract and $abs operators.
      query: |-
        db.stores.aggregate([
          { $match: { company: { $in: ["First Up Consultants"] } } },
          {
            $project: {
              name: 1,
              staff: 1,
              staffCountDiff: {
                $abs: {
                  $subtract: ["$staff.employeeCount.fullTime", "$staff.employeeCount.partTime"]
                }
              }
            }
          }
        ])
      output:
        value: |-
          [
            {
              "_id": "62438f5f-0c56-4a21-8c6c-6bfa479494ad",
              "name": "First Up Consultants | Plumbing Supply Shoppe",
              "staff": { "employeeCount": { "fullTime": 20, "partTime": 18 } },
              "staffCountDiff": 2
            }
          ]
