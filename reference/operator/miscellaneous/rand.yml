type: operator
category: miscellaneous
name: $rand
description: Returns a random floating-point number between 0 and 1, useful for random sampling and generating random values in aggregation pipelines.
syntax: '{ $rand: {} }'
parameters: []
examples:
  items:
    - title: Generate random values
      description: Add random numbers to documents for sampling or testing
      query: 'db.products.aggregate([{ $project: { name: 1, randomValue: { $rand: {} } } }])'
      output:
        value: Products with added randomValue field containing random float between 0 and 1
    - title: Random sampling
      description: Use random values for probabilistic document selection
      query: 'db.users.aggregate([{ $project: { userId: 1, randomSample: { $rand: {} } } }, { $match: { randomSample: { $lt: 0.1 } } }])'
      output:
        value: Returns approximately 10% of users selected randomly using random sampling
related:
  - reference: /reference/operator/sample
  - reference: /reference/operator/samplerate