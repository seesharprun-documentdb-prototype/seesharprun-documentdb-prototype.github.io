type: operator
category: miscellaneous
name: $sampleRate
description: Randomly selects documents from the input at the specified rate, useful for sampling large datasets or creating representative subsets for analysis.
syntax: '{ $sampleRate: <rate> }'
parameters:
  - name: rate
    type: number
    required: true
    description: The sample rate as a number between 0 and 1, representing the percentage of documents to select
examples:
  items:
    - title: Sample 10% of documents
      description: Randomly select 10% of documents from a collection
      query: 'db.products.aggregate([{ $sampleRate: 0.1 }])'
      output:
        value: Approximately 10% of the documents from the products collection
    - title: Sample for analysis
      description: Sample 5% of large dataset for statistical analysis
      query: 'db.sales.aggregate([{ $sampleRate: 0.05 }, { $group: { _id: null, avgSales: { $avg: "$amount" } } }])'
      output:
        value: Average sales amount calculated from 5% sample of the sales data
    - title: Sample with additional filtering
      description: Sample documents after applying filters
      query: 'db.orders.aggregate([{ $match: { status: "completed" } }, { $sampleRate: 0.2 }])'
      output:
        value: 20% sample of completed orders for analysis
related:
  - reference: /reference/operator/sample
  - reference: /reference/operator/limit