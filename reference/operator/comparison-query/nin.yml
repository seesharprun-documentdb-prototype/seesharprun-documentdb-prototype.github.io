type: operator
category: comparison-query
name: $nin
description: The `$nin` operator retrieves documents where the value of a specified field doesn't match any value in a list.
syntax: |
  { field: { $nin: [ <listOfValues> ] } }
parameters:
  - name: field
    type: string
    required: true
    description: The field to compare
  - name: listOfValues
    type: object
    required: true
    description: An array of values that shouldn't match the value of the field being compared
examples:
  items:
    - title: Find stores with discounts that aren't 10%, 15%, or 20%
      description: To find stores with promotions offering discounts that are not 10%, 15%, or 20%, run a query using $nin on the nested discountPercentage field.
      query: |
        db.stores.find({
            "promotionEvents.discounts.discountPercentage": { $nin: [10, 15, 20] }
        }, { name: 1, "promotionEvents.discounts.discountPercentage": 1 }, { limit: 1 })
      output:
        value: |
          [{ "_id": "2cf3f885-9962-4b67-a172-aa9039e9ae2f", "name": "First Up Consultants | Bed and Bath Center - South Amir" }]
    - title: Find stores with no discounts on specific categories
      description: To find stores without promotions on Smoked Salmon and Anklets, run a query using $nin on the nested categoryName field.
      query: |
        db.stores.find({
            "promotionEvents.discounts.categoryName": { $nin: ["Smoked Salmon", "Anklets"] }
        }, { name: 1, "promotionEvents.discounts.categoryName": 1 }, { limit: 1 })
      output:
        value: |
          [{ "_id": "2cf3f885-9962-4b67-a172-aa9039e9ae2f", "name": "First Up Consultants | Bed and Bath Center - South Amir" }]
related:
  - reference: /operator/comparison-query/in
  - reference: /operator/comparison-query/ne
  - reference: /operator/logical-query/nor
