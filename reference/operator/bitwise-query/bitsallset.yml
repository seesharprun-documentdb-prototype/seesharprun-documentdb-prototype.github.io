type: operator
category: bitwise-query
name: $bitsAllSet
description: |-
  The `$bitsAllSet` operator is used to match documents where all the specified bit positions are set (that is, are 1). This operator is useful for performing bitwise operations on fields that store integer values.
syntax: |-
  {
    <field>: { $bitsAllSet: <bitmask> }
  }
parameters:
  - name: field
    type: string
    required: true
    description: |-
      The field in the document on which the bitwise operation is to be performed.
  - name: <bitmask>
    type: number
    required: true
    description: |-
      A bitmask indicating which bits must be set in the field's value.
examples:
  sample: |-
    {
      "_id": "store1",
      "name": "Store Name",
      "storeFeatures": 7
    }
  items:
    - title: Find stores where specific feature bits are set
      description: |-
        Matches documents where all specified bit positions in the storeFeatures field are set (1).
      query: |-
        db.stores.find({
          storeFeatures: { $bitsAllSet: 5 }
        })
      output:
        value: |-
          [
            {
              "_id": "store1",
              "name": "Store Name",
              "storeFeatures": 7
            }
          ]
related:
  - reference: /operator/bitwise-query/bitsallclear
  - reference: /operator/bitwise-query/bitsanyset
