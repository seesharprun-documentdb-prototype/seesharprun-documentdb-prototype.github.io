type: operator
category: date-expression
name: $month
description: Extracts the month portion from a date value, returning a number between 1 and 12, where 1 represents January and 12 represents December. This operator is essential for seasonal analysis and monthly reporting.
syntax: "$month: <dateExpression>"
parameters:
  - name: dateExpression
    type: object
    required: true
    description: An expression that resolves to a Date, a Timestamp, or an ObjectId. If the expression resolves to null or is missing, $month returns null.
examples:
  items:
    - title: Extract month from store opening date
      description: This query extracts the month portion from the store opening date to analyze seasonal opening patterns.
      query: |
        db.stores.aggregate([
          { $match: {_id: "905d1939-e03a-413e-a9c4-221f74055aac"} },
          {
            $project: {
              name: 1,
              storeOpeningDate: 1,
              openingMonth: {
                $month: "$storeOpeningDate"
              },
              openingMonthName: {
                $switch: {
                  branches: [
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 1] }, then: "January" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 2] }, then: "February" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 3] }, then: "March" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 4] }, then: "April" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 5] }, then: "May" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 6] }, then: "June" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 7] }, then: "July" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 8] }, then: "August" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 9] }, then: "September" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 10] }, then: "October" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 11] }, then: "November" },
                    { case: { $eq: [{ $month: "$storeOpeningDate" }, 12] }, then: "December" }
                  ]
                }
              }
            }
          }
        ])
      output:
        value: |
          [
            {
              "_id": "905d1939-e03a-413e-a9c4-221f74055aac",
              "name": "Trey Research | Home Office Depot - Lake Freeda",
              "storeOpeningDate": "2024-12-30T22:55:25.779Z",
              "openingMonth": 12,
              "openingMonthName": "December"
            }
          ]
related:
  - reference: $year
  - reference: $dayOfMonth
  - reference: $dayOfWeek
