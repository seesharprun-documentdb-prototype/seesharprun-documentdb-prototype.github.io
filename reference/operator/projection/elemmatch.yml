type: operator
category: projection
name: $elemMatch
description: Projects only the first element from an array that matches the specified query condition, useful for returning specific array elements.
syntax: '{ <field>: { $elemMatch: { <query_conditions> } } }'
parameters:
  - name: field
    type: string
    required: true
    description: Array field name to project elements from
  - name: query_conditions
    type: object
    required: true
    description: Query conditions to match array elements
examples:
  items:
    - title: Project matching array element
      description: Return only the first array element that matches criteria
      query: 'db.students.find({}, { name: 1, grades: { $elemMatch: { subject: "Math", score: { $gte: 85 } } } })'
      output:
        value: Students with name and only the first Math grade >= 85 from grades array
    - title: Filter nested array objects
      description: Project specific objects from nested array based on conditions
      query: 'db.orders.find({}, { orderId: 1, items: { $elemMatch: { category: "electronics", price: { $gt: 100 } } } })'
      output:
        value: Orders with orderId and first electronics item over $100 from items array
related:
  - reference: /reference/operator/slice
  - reference: /reference/operator/positional