type: operator
category: evaluation-query
name: $text
description: Performs full-text search on string content with support for language-specific stemming, case sensitivity, and phrase matching.
syntax: '{ $text: { $search: <string>, $language: <string>, $caseSensitive: <boolean>, $diacriticSensitive: <boolean> } }'
parameters:
  - name: $search
    type: string
    required: true
    description: The text search string containing words or phrases to search for
  - name: $language
    type: string
    required: false
    description: 'Language code for stemming and stop words: "en" (English), "es" (Spanish), "fr" (French), etc.'
  - name: $caseSensitive
    type: string
    required: false
    description: 'Boolean flag for case-sensitive search: "true" or "false" (default)'
  - name: $diacriticSensitive
    type: string
    required: false
    description: 'Boolean flag for diacritic-sensitive search: "true" or "false" (default)'
examples:
  items:
    - title: Basic text search
      description: Search for documents containing specific words in indexed text fields
      query: 'db.stores.find({ $text: { $search: "electronics gadgets" } })'
      output:
        value: Documents containing "electronics" or "gadgets" in text-indexed fields
    - title: Phrase search
      description: Search for exact phrases using quoted strings
      query: 'db.stores.find({ $text: { $search: "\"Bed and Bath\"" } })'
      output:
        value: Documents containing the exact phrase "Bed and Bath"
    - title: Negated search terms
      description: Exclude documents containing specific terms using minus operator
      query: 'db.stores.find({ $text: { $search: "furniture -mattress" } })'
      output:
        value: Documents containing "furniture" but not "mattress"
    - title: Language-specific search
      description: Perform text search with language-specific stemming
      query: 'db.stores.find({ $text: { $search: "electronics", $language: "en" } })'
      output:
        value: Documents matching "electronics" using English language rules
    - title: Case and diacritic sensitive search
      description: Perform exact text matching with case and accent sensitivity
      query: 'db.stores.find({ $text: { $search: "Electronics", $caseSensitive: true, $diacriticSensitive: true } })'
      output:
        value: Documents containing "Electronics" with exact case and diacritic matching
    - title: Scored text search results
      description: Get text search results with relevance scores
      query: 'db.stores.find({ $text: { $search: "coffee shop" } }, { score: { $meta: "textScore" } }).sort({ score: { $meta: "textScore" } })'
      output:
        value: Documents ranked by text search relevance score in descending order
related:
  - reference: /reference/operator/regex
  - reference: /docs/text-indexes